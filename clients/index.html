



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.3, mkdocs-material-2.7.3">
    
    
      
        <title>Clients - API Design Guidelines</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.8d40d89b.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.6079476c.css">
      
    
    
      <script src="../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../stylesheets/critic.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#resource-identifiers" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="API Design Guidelines" class="md-header-nav__button md-logo">
          
            <i class="md-icon">code</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                API Design Guidelines
              </span>
              <span class="md-header-nav__topic">
                Clients
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <i class="md-icon">code</i>
      
    </span>
    API Design Guidelines
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../apis/" title="APIs" class="md-nav__link">
      APIs
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../rest/" title="REST" class="md-nav__link">
      REST
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../http/" title="HTTP" class="md-nav__link">
      HTTP
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../resource_identifiers/" title="Resource Identifiers" class="md-nav__link">
      Resource Identifiers
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../resources/" title="Resources" class="md-nav__link">
      Resources
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../methods/" title="Methods" class="md-nav__link">
      Methods
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../representations/" title="Representations" class="md-nav__link">
      Representations
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../hypermedia/" title="-Hypermedia" class="md-nav__link">
      -Hypermedia
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../content_negotiation/" title="Content Negotiation" class="md-nav__link">
      Content Negotiation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../caching/" title="-Caching" class="md-nav__link">
      -Caching
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../security/" title="-Security" class="md-nav__link">
      -Security
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../versioning_and_extensibility/" title="-Versioning and Extensibility" class="md-nav__link">
      -Versioning and Extensibility
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../documentation_and_discovery/" title="-Documentation and Discovery" class="md-nav__link">
      -Documentation and Discovery
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../specifications/" title="-Specifications" class="md-nav__link">
      -Specifications
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../mocking/" title="-Mocking" class="md-nav__link">
      -Mocking
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Clients
      </label>
    
    <a href="./" title="Clients" class="md-nav__link md-nav__link--active">
      Clients
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#resource-identifiers" title="Resource Identifiers" class="md-nav__link">
    Resource Identifiers
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-uris-in-clients" title="Using URIs in Clients" class="md-nav__link">
    Using URIs in Clients
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#methods" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-methods-in-clients" title="Using Methods in Clients" class="md-nav__link">
    Using Methods in Clients
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#representations" title="Representations" class="md-nav__link">
    Representations
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#http-headers-in-clients" title="HTTP Headers in Clients" class="md-nav__link">
    HTTP Headers in Clients
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-treat-errors-in-clients" title="How to Treat Errors in Clients" class="md-nav__link">
    How to Treat Errors in Clients
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hateos" title="HATEOS" class="md-nav__link">
    HATEOS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-links-in-clients" title="Using Links in Clients" class="md-nav__link">
    Using Links in Clients
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#content-negotiation" title="Content Negotiation" class="md-nav__link">
    Content Negotiation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extensibility" title="Extensibility" class="md-nav__link">
    Extensibility
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-implement-clients-to-support-extensibility" title="How to Implement Clients to Support Extensibility" class="md-nav__link">
    How to Implement Clients to Support Extensibility
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../other_topics/" title="-Other topics" class="md-nav__link">
      -Other topics
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../references/" title="References" class="md-nav__link">
      References
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../examples/" title="Examples" class="md-nav__link">
      Examples
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#resource-identifiers" title="Resource Identifiers" class="md-nav__link">
    Resource Identifiers
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-uris-in-clients" title="Using URIs in Clients" class="md-nav__link">
    Using URIs in Clients
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#methods" title="Methods" class="md-nav__link">
    Methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-methods-in-clients" title="Using Methods in Clients" class="md-nav__link">
    Using Methods in Clients
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#representations" title="Representations" class="md-nav__link">
    Representations
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#http-headers-in-clients" title="HTTP Headers in Clients" class="md-nav__link">
    HTTP Headers in Clients
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-treat-errors-in-clients" title="How to Treat Errors in Clients" class="md-nav__link">
    How to Treat Errors in Clients
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hateos" title="HATEOS" class="md-nav__link">
    HATEOS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-links-in-clients" title="Using Links in Clients" class="md-nav__link">
    Using Links in Clients
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#content-negotiation" title="Content Negotiation" class="md-nav__link">
    Content Negotiation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extensibility" title="Extensibility" class="md-nav__link">
    Extensibility
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-implement-clients-to-support-extensibility" title="How to Implement Clients to Support Extensibility" class="md-nav__link">
    How to Implement Clients to Support Extensibility
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>Clients</h1>
                
                <h2 id="resource-identifiers">Resource Identifiers<a class="headerlink" href="#resource-identifiers" title="Permanent link">&para;</a></h2>
<h3 id="using-uris-in-clients">Using URIs in Clients<a class="headerlink" href="#using-uris-in-clients" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>DO</strong> update local copies of old URIs when receiving <code>301 Moved Permanently</code>.</li>
<li><strong>DO</strong> verify that the <code>Location</code> URI maps to a trusted server.</li>
<li><strong>DO NOT</strong> disable support of redirects in client applications. Instead, consider a sensible limit on the number of redirects a client can follow. Disabling redirects altogether will break the client when the server change URIs.</li>
</ul>
<h2 id="methods">Methods<a class="headerlink" href="#methods" title="Permanent link">&para;</a></h2>
<h3 id="using-methods-in-clients">Using Methods in Clients<a class="headerlink" href="#using-methods-in-clients" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>DO</strong> treat <code>GET</code>, <code>OPTIONS</code>, and <code>HEAD</code> as safe operations, and send as required. Include <code>If-Unmodified-Since</code> and/or <code>If-Match</code> conditional headers, if applicable.</li>
<li><strong>DO</strong> resubmit <code>GET</code>, <code>PUT</code>, and <code>DELETE</code> requests, in case of failures, to confirm.</li>
<li><strong>DO</strong> implement retry logic, whenever you encounter a failure for an idempotent method.</li>
<li><strong>DO</strong> submit a <code>POST</code> request with a representation of the resource to be created to the factory resource.</li>
<li><strong>DO NOT</strong> repeat <code>POST</code> requests unless the documentation states that is idempotent.</li>
<li><strong>DO NOT</strong> treat various HTTP-level errors as failures (network or software) or like exceptions.</li>
</ul>
<h2 id="representations">Representations<a class="headerlink" href="#representations" title="Permanent link">&para;</a></h2>
<h3 id="http-headers-in-clients">HTTP Headers in Clients<a class="headerlink" href="#http-headers-in-clients" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>DO</strong> return <code>400 Bad Request</code> on servers, when you receive a representation with no <code>Content-Type</code>, avoid guessing the type of the representation.</li>
<li><strong>DO</strong> let your network library deal with uncompressing compressed representations (<code>Content-Encoding</code>)</li>
<li><strong>DO</strong> read and store the value of <code>Content-Language</code></li>
<li><strong>DO NOT</strong> use <code>Content-Encoding</code> in HTTP requests, unless you know out of band that the target server supports a particular encoding method.</li>
<li><strong>DO NOT</strong> check for the presence of the <code>Content-Length</code> header without first confirming the absence of <code>Transfer-Encoding: chunked</code></li>
</ul>
<h3 id="how-to-treat-errors-in-clients">How to Treat Errors in Clients<a class="headerlink" href="#how-to-treat-errors-in-clients" title="Permanent link">&para;</a></h3>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Even though they might not be documented - they may very much occur in production, so clients should be prepared for unexpected response codes, and in case of doubt handle them like they would handle the corresponding x00 code. Adding new response codes (specially error responses) should be considered a compatible API evolution.</p>
</div>
<ul>
<li><strong>DO</strong> treat <code>400 Bad Request</code> by looking into the body of the error representation for hints for the root cause of the problem.</li>
<li><strong>DO</strong> retry the request on <code>401 Unauthorized</code> responses with the <code>Authorization</code> header containing the credentials. If the client is user-facing, prompt the user to supply credentials. In other cases, obtain the necessary security credentials.</li>
<li><strong>DO NOT</strong> repeat the request on <code>403 Forbidden</code></li>
<li><strong>DO</strong> clean up client stored data on <code>404 Not Found</code></li>
<li><strong>DO</strong> Look for the <code>Allow</code> header for valid methods on <code>405 Not Allowed</code></li>
<li><strong>DO</strong> treat <code>406 Not Acceptable</code>. See <a href="../content_negotiation">Content Negotiation</a>.</li>
<li><strong>DO</strong> treat <code>409 Conflict</code> by looking for the conflicts listed in the body of the representation of <code>PUT</code></li>
<li><strong>DO</strong> treat <code>410 Gone</code> the same as <code>404 Not Found</code>.</li>
<li><strong>DO</strong> treat <code>412 Precondition Failed</code>. See <a href="../caching">Caching</a>.</li>
<li><strong>DO</strong> look for hints on valid size in the body of the error on <code>413 Request Entity Too Large</code></li>
<li><strong>DO</strong> see the body of the representation to learn the supported media types for the request on <code>415 Unsupported Media Type</code></li>
<li><strong>DO</strong> log the error, and then notify the server developers of <code>500 Internal Server Error</code></li>
<li><strong>DO</strong> check the response of <code>503 Service Unavailable</code> for a <code>Retry-After</code> header, avoid retrying until that period of time (back-off logic).</li>
<li><strong>DO NOT</strong> treat HTTP errors as I/O or network exceptions. Treat them as first-class application objects.</li>
</ul>
<h3 id="hateos">HATEOS<a class="headerlink" href="#hateos" title="Permanent link">&para;</a></h3>
<h4 id="using-links-in-clients">Using Links in Clients<a class="headerlink" href="#using-links-in-clients" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>DO</strong> extract URIs and URI templates from links based on known link relation types. These links along with other resource data constitute the current state of the application.</li>
<li><strong>DO</strong> store the URIs and the relation type along with other representation data, if the application is long running.</li>
<li><strong>DO</strong> make flow decisions based on the presence or absence of links.</li>
<li><strong>DO</strong> store the knowledge of whether a representation contains a given link.</li>
<li><strong>DO</strong> check the documentation of the link relation to learn any associated business rules regarding authentication, permanence of the URI, methods, and media types supported, etc.</li>
</ul>
<h2 id="content-negotiation">Content Negotiation<a class="headerlink" href="#content-negotiation" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>DO NOT</strong> assume that servers support content negotiation, and be prepared to receive a representation that does not meet the <code>Accept-*</code> headers.</li>
</ul>
<h2 id="extensibility">Extensibility<a class="headerlink" href="#extensibility" title="Permanent link">&para;</a></h2>
<h3 id="how-to-implement-clients-to-support-extensibility">How to Implement Clients to Support Extensibility<a class="headerlink" href="#how-to-implement-clients-to-support-extensibility" title="Permanent link">&para;</a></h3>
<p>If the client is capable of storing the complete representation locally, store everything.</p>
<p>Do not assume that the representation is of a fixed media type, character encoding, content language, or content encoding.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../mocking/" title="-Mocking" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                -Mocking
              </span>
            </div>
          </a>
        
        
          <a href="../other_topics/" title="-Other topics" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                -Other topics
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.b438e6c5.js"></script>
      
      <script>app.initialize({version:"0.17.3",url:{base:".."}})</script>
      
    
    
      
    
  </body>
</html>